# üé¨ Cinema Booking System

–í–µ–±-–¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –∫—É–ø—ñ–≤–ª—ñ –∫–≤–∏—Ç–∫—ñ–≤ —É –∫—ñ–Ω–æ—Ç–µ–∞—Ç—Ä—ñ.****
–ì–æ–ª–æ–≤–Ω–∞ –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç—É ‚Äî **–±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –≤–∏–Ω–µ—Å–µ–Ω–∞ –Ω–∞ —Ä—ñ–≤–µ–Ω—å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö** (PostgreSQL) –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä, —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π —Ç–∞ —Ç—Ä–∏–≥–µ—Ä—ñ–≤ –¥–ª—è –∞—É–¥–∏—Ç—É.
![erd.png](screenshots/erd.png)
---

## üöÄ –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### üë§ –î–ª—è –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
* **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –í—Ö—ñ–¥:** –°–∏—Å—Ç–µ–º–∞ –∞–∫–∞—É–Ω—Ç—ñ–≤. –ü—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î —Å—Ç–∞—Ä—Ç–æ–≤–∏–π –±–æ–Ω—É—Å–Ω–∏–π –±–∞–ª–∞–Ω—Å.
* **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –ê—Ñ—ñ—à–∞:** –ü–µ—Ä–µ–≥–ª—è–¥ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö —Ñ—ñ–ª—å–º—ñ–≤ –∑ –ø–æ—Å—Ç–µ—Ä–∞–º–∏ —Ç–∞ —Ü—ñ–Ω–∞–º–∏.
* **–í–∏–±—ñ—Ä –º—ñ—Å—Ü—è:** –í—ñ–∑—É–∞–ª—å–Ω–∞ —Å—Ö–µ–º–∞ –∑–∞–ª—É (CSS Grid + Flexbox).
    * –†—ñ–∑–Ω—ñ —Å—Ç–∞—Ç—É—Å–∏ –º—ñ—Å—Ü—å: üü© **–í—ñ–ª—å–Ω–µ** (–ú–æ–∂–Ω–∞ –∫—É–ø–∏—Ç–∏), *–ü—Ä–æ–¥–∞–Ω–æ* (–ù–µ–∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–µ).üü® **–û–±—Ä–∞–Ω–µ** (–ü—ñ–¥—Å–≤—ñ—á—É—î—Ç—å—Å—è –ø—Ä–∏ –∫–ª—ñ–∫—É)
    *  –∞–Ω—ñ–º–∞—Ü—ñ—è –∫—Ä—ñ—Å–µ–ª.
* **–ü–æ–∫—É–ø–∫–∞ –∫–≤–∏—Ç–∫—ñ–≤:** –ú–∏—Ç—Ç—î–≤–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è –∑—ñ —Å–ø–∏—Å–∞–Ω–Ω—è–º –∫–æ—à—Ç—ñ–≤ –∑ –±–∞–ª–∞–Ω—Å—É, –º—ñ—Å—Ü–µ –∑–∞–∫—Ä—ñ–ø–ª—é—î—Ç—å—Å—è –∑–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º..

### üõ°Ô∏è –î–ª—è –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
* **CRUD –§—ñ–ª—å–º—ñ–≤:** –î–æ–¥–∞–≤–∞–Ω–Ω—è, –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ—ñ–ª—å–º—ñ–≤.
* **–î–∏–Ω–∞–º—ñ—á–Ω—ñ –∑–∞–ª–∏:** –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Ñ—ñ–ª—å–º—É –∞–¥–º—ñ–Ω –≤–∫–∞–∑—É—î —Ä–æ–∑–º—ñ—Ä –∑–∞–ª–∏ (–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥—ñ–≤ —Ç–∞ –º—ñ—Å—Ü—å), —ñ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
* **Audit Log (–ñ—É—Ä–Ω–∞–ª –ø–æ–¥—ñ–π):** –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤, —è–∫—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —Ç—Ä–∏–≥–µ—Ä–∞–º–∏ –≤ –ë–î –ø—Ä–∏ –±—É–¥—å-—è–∫—ñ–π –¥—ñ—ó (–¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ—ñ–ª—å–º—É, –∑–º—ñ–Ω–∞ —Ü—ñ–Ω–∏, –ø–æ–∫—É–ø–∫–∞ –∫–≤–∏—Ç–∫–∞).

---

## üíæ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ë–∞–∑–∏ –î–∞–Ω–∏—Ö (SQL Magic)

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **PostgreSQL** –Ω–∞ –ø–æ–≤–Ω—É –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å. Python (Flask) –≤–∏—Å—Ç—É–ø–∞—î –ª–∏—à–µ —è–∫ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –≤—Å—è –ª–æ–≥—ñ–∫–∞ –Ω–∞–¥—ñ–π–Ω–æ –∑–∞—Ö–∏—â–µ–Ω–∞ –≤ –ë–î.

### 1. –ó–±–µ—Ä–µ–∂–µ–Ω—ñ –ü—Ä–æ—Ü–µ–¥—É—Ä–∏ (Stored Procedures)
–í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö –π–¥—É—Ç—å —á–µ—Ä–µ–∑ `CALL`:
* **`buy_ticket_proc`**: –ê—Ç–æ–º–∞—Ä–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è. –ü–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –º—ñ—Å—Ü—è, –±–∞–ª–∞–Ω—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —Å–ø–∏—Å—É—î –∫–æ—à—Ç–∏ —Ç–∞ –≤–∏–¥–∞—î –∫–≤–∏—Ç–æ–∫. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–µ—Ö–∞–Ω—ñ–∑–º `ON CONFLICT` –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤.
* **`add_movie_proc`**: –°—Ç–≤–æ—Ä—é—î —Ñ—ñ–ª—å–º —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î —Å—ñ—Ç–∫—É –º—ñ—Å—Ü—å —É —Ç–∞–±–ª–∏—Ü—ñ `seats` –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –∑–∞–¥–∞–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ (—Ä—è–¥–∏/–∫–æ–ª–æ–Ω–∏).
* **`edit_movie_proc`**: –ë–µ–∑–ø–µ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö —Ñ—ñ–ª—å–º—É.


---
### 1. –ó–±–µ—Ä–µ–∂–µ–Ω—ñ –ü—Ä–æ—Ü–µ–¥—É—Ä–∏ (Stored Procedures)
–í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ `CALL`:
* `buy_ticket_proc(user_id, movie_id, seat_id)` ‚Äî –í–∏–∫–æ–Ω—É—î –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Å—Ç–∞—Ç—É—Å—É –º—ñ—Å—Ü—è, –±–∞–ª–∞–Ω—Å—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —Å–ø–∏—Å—É—î –∫–æ—à—Ç–∏ —Ç–∞ –≤–∏–¥–∞—î –∫–≤–∏—Ç–æ–∫ –≤ –æ–¥–Ω—ñ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `ON CONFLICT` –¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ.
* `add_movie_proc(...)` ‚Äî –°—Ç–≤–æ—Ä—é—î —Ñ—ñ–ª—å–º —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î —Å—ñ—Ç–∫—É –º—ñ—Å—Ü—å —É —Ç–∞–±–ª–∏—Ü—ñ `seats`.
* `delete_movie_proc(...)` ‚Äî –ö–∞—Å–∫–∞–¥–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ—ñ–ª—å–º—É —Ä–∞–∑–æ–º –∑ —É—Å—ñ–º–∞ —Å–µ–∞–Ω—Å–∞–º–∏ —Ç–∞ –∫–≤–∏—Ç–∫–∞–º–∏.

### 2. –¢—Ä–∏–≥–µ—Ä–∏ (Triggers)
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–µ–¥–µ –∞—É–¥–∏—Ç —É —Ç–∞–±–ª–∏—Ü—ñ `audit_log`:
* **`trg_audit_bookings`**: –†–µ–∞–≥—É—î –Ω–∞ `INSERT` —É —Ç–∞–±–ª–∏—Ü—ñ –∫–≤–∏—Ç–∫—ñ–≤. –ó–∞–ø–∏—Å—É—î –Ω–∞–∑–≤—É —Ñ—ñ–ª—å–º—É —Ç–∞ –Ω–æ–º–µ—Ä –∫—É–ø–ª–µ–Ω–æ–≥–æ –º—ñ—Å—Ü—è.
* **`trg_audit_movies`**: –†–µ–∞–≥—É—î –Ω–∞ –±—É–¥—å-—è–∫—ñ –∑–º—ñ–Ω–∏ –≤ —Ç–∞–±–ª–∏—Ü—ñ —Ñ—ñ–ª—å–º—ñ–≤.
    * –ü—Ä–∏ `UPDATE`: –ü–æ—Ä—ñ–≤–Ω—é—î `OLD` —Ç–∞ `NEW` –∑–Ω–∞—á–µ–Ω–Ω—è —ñ –∑–∞–ø–∏—Å—É—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∑–º—ñ–Ω–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: *"–¶—ñ–Ω–∞ –∑–º—ñ–Ω–∏–ª–∞—Å—è –∑ 100 –Ω–∞ 150"*).

---

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ó–∞–ø—É—Å–∫
### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏
pip install flask psycopg2-binary
2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ë–∞–∑–∏ –î–∞–Ω–∏—Ö
–°—Ç–≤–æ—Ä—ñ—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö cinema —É PostgreSQL.
–û–Ω–æ–≤—ñ—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —É —Ñ–∞–π–ª—ñ app.py:
Python
def connect_db():
    debug("Connecting to DB.")
    conn = psycopg2.connect(host="localhost", user="postgres", password="admin", dbname="cinema",
                            cursor_factory=psycopg2.extras.DictCursor)
    return conn
    
–í–∏–∫–æ–Ω–∞–π—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—å, –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ —Ç–∞ —Ç—Ä–∏–≥–µ—Ä–∏) –≤ –∫–æ–Ω—Å–æ–ª—ñ .
$env:FLASK_APP="main"
flask init
flask sample-db


3. –ó–∞–ø—É—Å–∫
python app.py
–ü–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ –∞–¥—Ä–µ—Å–æ—é: http://127.0.0.1:5000

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç—É
CinemaProject/
‚îÇ
‚îú‚îÄ‚îÄ app.py                # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª (Flask Backend)
‚îú‚îÄ‚îÄ templates/            # HTML –®–∞–±–ª–æ–Ω–∏
‚îÇ   ‚îú‚îÄ‚îÄ index.html        # –ì–æ–ª–æ–≤–Ω–∞ (–ê—Ñ—ñ—à–∞ + –ê–¥–º—ñ–Ω–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ login.html        # –í—Ö—ñ–¥ / –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ hall.html         # –°—Ö–µ–º–∞ –∑–∞–ª—É —Ç–∞ –ø–æ–∫—É–ø–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ add_movie.html    # –§–æ—Ä–º–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ—ñ–ª—å–º—É
‚îÇ   ‚îî‚îÄ‚îÄ edit_movie.html   # –§–æ—Ä–º–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```
### –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ 
![–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞](screenshots/img.png)

### –õ–æ–≥—ñ–Ω —Ç–∞ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
![–õ–æ–≥—ñ–Ω](screenshots/img7.png)

### –í–∏–±—ñ—Ä –º—ñ—Å—Ü—è –≤ –∑–∞–ª—ñ
![–ó–∞–ª](screenshots/img1.png)
![–í–∏–±—ñ—Ä –º—ñ—Å—Ü—è](screenshots/img2.png)
![–ü–æ–∫—É–ø–∫–∞ –º—ñ—Å—Ü—è](screenshots/img3.png)

### –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ—ñ–ª—å–º—É
![–î–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ—ñ–ª—å–º—É](screenshots/img4.png)
### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ñ—ñ–ª—å–º—É
![–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ñ—ñ–ª—å–º—É](screenshots/img5.png)


### –õ–æ–≥–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (Audit Log)

![–õ–æ–≥–∏ –ë–î](screenshots\img6.png)